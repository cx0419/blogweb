<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #show {
            display: none;
        }
    </style>
</head>
<body>
<form>
    用户名：<input type="text" name="username"> <br>
    密码：<input type="password" name="password"> <br>
    头像上传：<input type="file" name="f" id="files"> <br>
    <img id="show" width="100px" height="100px">
    <button id="btn1">提交</button>
</form>

<script src="js/jquery-3.3.1.min.js"></script>
<!--第三方的插件， 用来实现发送文件上传请求-->
<script src="js/ajaxfileupload.js"></script>

<script>
        $('input:file').change(function () {
            // 上传文件
            $.ajaxFileUpload({
                url: "http://localhost:8080/BlogWeb/FileServlet?method=UserAvatar",
                type: "POST",
                //文件选择框的id属性
                fileElementId: 'files',
                //服务器返回的格式
                dataType: 'json',
                success: function (data) {
                alert("ASDsd");
                },
                error: function (data, status, e) {
                    console.log(e);
                    alert("no");
                    alert(data.msg);
                }
            });
        });

        $('#btn1').click(function () {
            $.post('/fileUpload1', {
                username: $('input:text').val(),
                password: $('input:password').val()
            }, function (data, status, xhr) {

            }, 'json')
        })
</script>

</body>
</html>