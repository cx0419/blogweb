<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"/>
    <!--音乐播放-->
    <link rel="stylesheet" type="text/css" href="H5MusicPlayer-master/css/index.css">
    <link rel="stylesheet" type="text/css" href="H5MusicPlayer-master/css/loader.css" />
    <link rel="stylesheet" type="text/css" href="H5MusicPlayer-master/css/loader2.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="H5MusicPlayer-master/js/index.js"></script>
    <script src="H5MusicPlayer-master/test/playList2.js"></script>

    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="https://cdn-icons-png.flaticon.com/128/6930/6930073.png" rel="shortcut icon" type="image/x-icon" />
    <title>我的博客首页</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/headnav.css">
<!--    <link rel="stylesheet" href="css/Bootstrap.css">-->
<!--    <script src="js/jquery-3.3.1.min.js"></script>-->

    <script src="js/axios-0.18.0.min.js"></script>
    <script src="js/axiosUtil.js"></script>
    <script src="js/loadnav.js"></script>
<!--    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>-->


</head>
<body>
<!-- 导航栏 -->
<div class="head">
    <div class="head-lead">
        <ul>
            <li class="head-lead-nav"><a href="http://localhost:8080/BlogWeb/index.html">首页</a></li>
            <li class="head-lead-nav"><a href="http://localhost:8080/BlogWeb/Partition.html">分区</a></li>
            <li class="head-lead-nav"><a href="">社区</a></li>
            <li class="head-lead-nav"><a href="">学习</a></li>
        </ul>
    </div>
    <div class="head-search">
        <input type="search" name="" id="searchsomething" placeholder="搜点什么吧......">
        <button id="nav-searchbtn" type="button">搜索</button>
    </div>
    <div class="head-myself">
        <ul>
            <li class="head-myself-nav"><a  id="edit"  href="http://localhost:8080/BlogWeb/edit.html">创作</a></li>
            <li id="nav-msgbtn" class="head-myself-nav"><a href="">消息</a></li>
            <li id="nav-collectionbtn" class="head-myself-nav"><a href="">收藏</a></li>
            <li id="nav-focusbtn" class="head-myself-nav"><a href="">关注</a></li>
            <li id="nav-myblogbtn" class="head-myself-nav"><a href="">博客</a></li>
            <li class="head-myself-nav" id="avatarli"><img id="avatar" src="https://pic4.zhimg.com/80/v2-c22a5907d3881bf0ef5285c3b4b12703_1440w.jpg" alt="">
                <div class="head-myself-infobolck" id="head-myself-infobolck">
                    <!-- 头像 名字 -->
                    <div class="head-myself-infobolck-name"><h2 id="nav-nickname">程序员1</h2><span id="nav-introduction">--</span></div>
                    <!-- 粉丝展示 -->
                    <div class="head-myself-infobolck-fans">
                        <div><h4 class="infobolck-fans-left" id="nav-fansnum">0</h4><h3 class="infobolck-fans-right">粉丝</h3></div>
                        <div><h4 class="infobolck-fans-left" id="nav-view">0</h4><h3 class="infobolck-fans-right">访问量</h3></div>
                        <div><h4 class="infobolck-fans-left" id="nav-likenum">0</h4><h3 class="infobolck-fans-right">获赞</h3></div>
                    </div>
                    <!-- 导航 -->
                    <div class="head-myself-infobolck-nav">
                        <ul>
                            <li ><a id="personalCenter" href="http://localhost:8080/BlogWeb/personalCenter.html"><span class="iconfont">&#xe643;</span>个人中心</a></li>
                            <li><a id="AlterPassword" href="http://localhost:8080/BlogWeb/personalCenter.html"><span class="iconfont">&#xe83e;</span>修改密码</a></li>
                            <li ><a id="createBlog"  href=""><span class="iconfont">&#xe67d;</span>内容管理</a></li>
                            <li class="exit-login"><a id="exitlogin" href="#"><span class="iconfont">&#xe6ba;</span>退出登录</a></li>
                        </ul>
                    </div>
                </div>
            </li>
        </ul>
    </div>
</div>
<script>
    function init(){
        getnavinfo();
    }
</script>
<!-- 主界面 -->
<div class="main">
    <div class="main-left">
        <div class="main-left-top">
            <div id="myCarousel" class="carousel slide">
                <!-- 轮播（Carousel）指标 -->
                <ol class="carousel-indicators">
                    <li style="background-color: #00BFFF;border: 1px solid #00BFFF"  data-target="#myCarousel" data-slide-to="0" class="active"></li>
                    <li style="background-color: #00BFFF;border: 1px solid #00BFFF" data-target="#myCarousel" data-slide-to="1"></li>
                    <li style="background-color: #00BFFF;border: 1px solid #00BFFF"  data-target="#myCarousel" data-slide-to="2"></li>
                </ol>
                <!-- 轮播（Carousel）项目 -->
                <div class="carousel-inner">
                    <div class="item active">
                        <img src="https://tva2.sinaimg.cn/large/0073WLvOly1gnxkusufgnj31hc0u0dtl.jpg" alt="First slide">
                    </div>
                    <div class="item">
                        <img src="https://tva1.sinaimg.cn/large/0073WLvOly1gnxkustiqoj31hc0u0dnl.jpg" alt="Second slide">
                    </div>
                    <div class="item">
                        <img src="https://tva3.sinaimg.cn/large/0073WLvOgy1gp0kltntngj30qo0f040o.jpg" alt="Third slide">
                    </div>
                </div>
                <!-- 轮播（Carousel）导航 -->
                <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                    <span style="color: #00BFFF" class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                    <span style="color: #00BFFF" class="sr-only">Previous</span>
                </a>
                <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                    <span style="color: #00BFFF" class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                    <span style="color: #00BFFF" class="sr-only">Next</span>
                </a>
            </div>
        </div>
        <div>
            <div class="mid-recommend">
                <div class="mid-recommend-top">精选内容</div>
                <div id="mid-recommend-listout" class="mid-recommend-listout">
                    <div id="bloglist" class="bloglist">

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main-right">
        <div class="main-right-music">
        <div class="music-div">
            <div style="background: none; width: 300px;" class="canvaszz"> </div>
            <canvas style="background: none;width: 300px;" id="canvas" class="canvas"></canvas>
            <div class="player">
                <!--播放器顶部，用来装载各种菜单button-->
                <div class="header">
                    <span id="title" style="display: block;" onmouseover="showShortcut(this,event)" onmouseout="showShortcutOut()">听听音乐吧~</span>
                </div>
                <div>
                    <!--音乐专辑图片-->
                    <div class="albumPic"></div>
                    <!--音乐列表-->
                    <div id="musicList" class="musicList">
                        <iframe style="width: 100%;" src="H5MusicPlayer-master/music.html"></iframe>
                    </div>
                    <!--歌单列表-->
                    <div id="songList" class="musicList">
                        <iframe style="width: 100%;" src="H5MusicPlayer-master/songList.html"></iframe>
                    </div>
                    <!--本地音乐搜索列表-->
                    <div id="searchMusicList" class="musicList">
                        <iframe style="width: 100%;" src="H5MusicPlayer-master/searchMusicList.html"></iframe>
                    </div>
                    <!--网络音乐搜索列表-->
                    <div id="netSearchList" class="musicList">
                        <iframe style="width: 100%;" src="H5MusicPlayer-master/netSearchList.html"></iframe>
                    </div>
                    <!--本地文件夹音乐列表-->
                    <div id="localMusicList" class="musicList">
                        <iframe style="width: 100%;" src="H5MusicPlayer-master/localMusicList.html"></iframe>
                    </div>
                    <!--歌词背景-->
                    <div id="lyricDiv" class="musicList"
                         style="width:320px;
				background-image: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.2) ),url(H5MusicPlayer-master/img/clouds.jpeg);
				background-repeat: no-repeat; border: none;padding: 0px;
				text-align: center;
    			font-size: 20px;
    			color: #cbc7c7;
    			overflow: hidden;
    			position: relative;">
                        <ul>
                            <li>歌词</li>
                        </ul>
                    </div>
                </div>
                <!--音乐信息，歌名、歌手-->
                <div class="trackInfo">
                    <div class="name"><p></p></div>
                    <div class="artist"></div>
                    <div class="album"></div>
                </div>
                <!--		&lt;!&ndash;歌词&ndash;&gt;-->
                <!--		<div class="lyric">-->
                <!--			<p id="lyric" onclick="showFullLyric()" -->
                <!--				onmouseover="lyricTip(this,event)" -->
                <!--				onmouseout="tipOut()">-->
                <!--				歌词-->
                <!--			</p>-->
                <!--		</div>-->
                <!--播放控制按钮，上一首下一首-->
                <div class="controls">
                    <div class="play">
                        <i class="icon-play"></i>
                    </div>
                    <div class="previous">
                        <i class="icon-previous"></i>
                    </div>
                    <div class="next">
                        <i class="icon-next"></i>
                    </div>
                </div>
                <!--显示歌曲时间信息，当前播放时间、歌曲总时长-->
                <div class="time">
                    <div class="current"></div>
                    <div class="total"></div>
                </div>
                <!--使用渐变颜色显示歌曲时间进度条-->
                <div class="progress"></div>
                <!--加载动画，正在使用网络加载音乐文件时则显示出来，完成则隐藏-->
                <div class="loader"></div>
                <div class="loader2"></div>
                <!--audio标签装载当前播放的音乐文件-->
                <audio id="audio" preload="auto"><source src=""></audio>
            </div>
            <!--装载用户之前输入的网易云用户名，帮助用户快捷输入-->
            <datalist id="nameLists"></datalist>
            <!--装载用户之前搜索输入的歌曲名，帮助用户快捷输入-->
            <datalist id="songLists"></datalist>
        </div>
    </div>
        <div class="main-right-like">

        </div>
    </div>
</div>


</body>
<script>
    getnavinfo();
</script>
<script>
    function getRecommendBlogs(){
        AxiosPostRequst("http://localhost:8080/BlogWeb/LikeServlet?method=getBlogsByCommend",{
            // 'pagenum':++pageNum
        }).then(res => {
            let blogs = res.blogs;
            document.getElementById("bloglist").innerHTML = "";
            for(let i = 0 ; i < blogs.length ; i++){
                let blog = blogs[i];
                if(blog.firstPicture===null){
                    blog.firstPicture = "https://profile.csdnimg.cn/3/D/A/1_seventy70";
                }
                let btnid = "opensbtn"+blog.id.toString();
                let originalclass = blog.original === true?"original":"Reprint";
                // 给div里面加li
                let str1 = "                    <div class=\"Articleunit-top\">\n" +
                    "                        <h3 id=\""+btnid+"\" class=\"ArticleTitle\">"+blog.title+"</h3>\n" +
                    "                        <div class=\"ArticleTime\">"+blog.createTime.substr(0,19)+"</div>\n" +
                    "                    </div>\n" +
                    "                    <div class=\"Articleunit-mid\">\n" +
                    "                        <div class=\"ArticleDraft "+originalclass+"\">"+(blog.original===true?"原创":"转载")+"</div>\n" +
                    "                        <div class=\"mid-content\">\n" +
                    "                        "+blog.content.replace(/[^\u4e00-\u9fa5]/gi, "")+"\n" +
                    "                        </div>\n" +
                    "                    </div>\n" +
                    "                    <div class=\"Articleunit-bottom\">\n" +
                    "                        <div class=\"bottom-outinfo\">\n" +
                    "                            <div class=\"bottom-info\">\n" +
                    "                                <div class=\"bottom-info-left\">展现量</div>\n" +
                    "                                <div class=\"bottom-info-right ArticleViews\">2078</div>\n" +
                    "                            </div>\n" +
                    "                            <div class=\"bottom-info\">\n" +
                    "                                <div class=\"bottom-info-left\">评论</div>\n" +
                    "                                <div class=\"bottom-info-right ArticleComment\">99</div>\n" +
                    "                            </div>\n" +
                    "                            <div class=\"bottom-info\">\n" +
                    "                                <div class=\"bottom-info-left\">收藏</div>\n" +
                    "                                <div class=\"bottom-info-right ArticleCollection\">700</div>\n" +
                    "                            </div>\n" +
                    "                        </div>\n" +
                    "                        <div class=\"bottom-btn\">\n" +
                    "                            <img class=\"bottom-cover\"\n" +
                    "                                 src=\""+blog.firstPicture+"\" alt=\"\">\n" +
                    "                        </div>\n" +
                    "                    </div>";
                let div = document.createElement('li');
                div.classList.add("Botunit");
                div.innerHTML = str1;
                $('#bloglist').append(div);
                $('#'+btnid).on('click', e => {
                    window.open("http://localhost:8080/BlogWeb/blogPage.html?articleid="+blog.id);
                });
            }
        });
    }
    getRecommendBlogs();
</script>

</html>